<template>
  <div class="header" :class="darkMode ? 'header--dark' : ''">
    <div class="header__logo">
      <svg
        width="40"
        height="40"
        viewBox="0 0 50 50"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M40.2183 23.7735L31.2732 6.84053C31.0615
                6.43994 30.6485 6.19033 30.1955 6.18896C30.1942
                6.18896 30.1931 6.18896 30.1919 6.18896C29.7402
                6.18896 29.3274 6.43594 29.1141 6.83428L20.9178
                22.1331C20.7824 22.3856 20.807 22.694 20.9809
                22.9219L22.9871 25.5529C23.2091 25.844
                23.5461 26.0191 23.9119 26.0334C24.2766
                26.0485 24.6274 25.8993 24.8712 25.6264L28.0432
                22.0768L34.2089 29.3557C34.4391 29.6274
                34.7754 29.7851 35.1315 29.7881C35.135
                29.7881 35.1385 29.7881 35.142 29.7881C35.4942
                29.7881 35.8288 29.6366 36.0612 29.3715L39.7155
                25.2048C39.7365 25.1808 39.756 25.1555 39.7737
                25.1289L40.1797 24.5215C40.3289 24.2981 40.3438
                24.011 40.2183 23.7735ZM38.5843 24.2765L35.1451
                28.198L28.9811 20.921C28.7524 20.6511 28.4182
                20.4935 28.0643 20.4888C28.0589 20.4887 28.0535
                20.4887 28.0481 20.4887C27.7001 20.4887 27.3686
                20.6367 27.1363 20.8967L23.9741
                24.4353L22.4292 22.4092L30.1905 7.92236L38.7215 24.0713L38.5843 24.2765Z"
          fill="white"
        />
        <path
          d="M49.8569 42.0171L44.115 31.1482C43.9264 30.7911 43.4841 30.6546 43.1268
                30.8433C42.7697 31.0319 42.6332 31.4743
                42.8219 31.8315L48.3779 42.3485H28.8992C28.8762
                42.2351 20.4123 26.174 20.4123 26.174L21.6703
                23.8259L22.9872 25.5529C23.2092 25.844 23.5463
                26.0191 23.912 26.0334C24.2767 26.0485 24.6274
                25.8993 24.8713 25.6264L28.0433 22.0768L34.209
                29.3557C34.4392 29.6274 34.7755 29.7851 35.1315
                29.7881C35.1351 29.7881 35.1386 29.7881 35.1421
                29.7881C35.4943 29.7881 35.8289 29.6366 36.0614
                29.3715C36.0639 29.3688 36.0663 29.3659 36.0686
                29.3631L39.4298 25.4109L40.7961 27.9973C40.9848
                28.3544 41.4271 28.491 41.7843 28.3022C42.1414
                28.1136 42.2779 27.6712 42.0892 27.3141L31.2731
                6.84004C31.0614 6.43945 30.6485 6.18984
                30.1955 6.18848H30.1919C29.7402 6.18848
                29.3274 6.43545 29.1141 6.83389L21.4352
                21.1675L20.918 22.133C20.918 22.1331 20.9179
                22.1332 20.9179 22.1333L19.5886 24.6146L15.6363
                17.1334C15.4775 16.8329 15.2056 16.6174 14.8883
                16.5278C14.7824 16.498 14.6716 16.482 14.5582
                16.4817C14.557 16.4817 14.5559 16.4817 14.5547
                16.4817C14.5395 16.4817 14.5246 16.4827 14.5096
                16.4833C14.4972 16.4837 14.4847 16.4838
                14.4724 16.4846C14.4611 16.4854 14.4501
                16.4868 14.439 16.4879C14.4224 16.4895
                14.4058 16.4907 14.3894 16.493C14.3746
                16.4949 14.3601 16.4979 14.3455
                16.5004C14.3333 16.5025 14.3209
                16.5042 14.3088 16.5067C13.957
                16.5786 13.6508 16.8026 13.4769
                17.1272L10.8001 22.1239L6.29795
                30.5278C6.29717 30.5293 6.29658
                30.5309 6.2958 30.5323L0.146386
                42.0109C-0.0584968 42.3935 -0.0477546
                42.8442 0.175097 43.2165C0.398046 43.5889
                0.790234 43.8111 1.22422 43.8111H48.7757C49.2082
                43.8111 49.5997 43.59 49.8229 43.2195C50.0464
                42.8491 50.059 42.3996 49.8569 42.0171ZM22.6508
                21.9957L30.1906 7.92236L38.6938 24.0188L35.1424
                28.1945L28.9811 20.9209C28.7523 20.6509 28.4182
                20.4933 28.0644 20.4887C28.0589 20.4886 28.0535
                20.4886 28.0481 20.4886C27.7002 20.4886 27.3687
                20.6367 27.1364 20.8966L23.9742 24.4352L22.4293
                22.4091L22.6508 21.9957ZM1.6249 42.3484L7.1626
                32.0114L9.29756 33.7997C9.52783 33.9926 9.80634
                34.0872 10.0833 34.0872C10.4191 34.0872
                10.7526 33.9481 10.9951 33.6764L13.4438
                30.9318L15.021 32.4967C15.3077 32.7812
                15.7708 32.7793 16.0553 32.4927C16.3397
                32.206 16.3379 31.7429 16.0513
                31.4584L14.2945 29.7154C14.0574
                29.4803 13.7311 29.3518 13.3961
                29.3612C13.0622 29.3714 12.7432
                29.5201 12.5209 29.7694L10.0586
                32.5291L7.86816 30.6944L14.5534
                18.2154L23.1802 34.5455L21.0976
                36.465L19.1924 34.5746C18.9058
                34.2901 18.4427 34.292 18.1581
                34.5787C17.8736 34.8653 17.8755
                35.3284 18.1622 35.6129L20.2302
                37.6648C20.4687 37.9014 20.7798
                38.0203 21.0914 38.0203C21.388
                38.0203 21.6851 37.9125 21.9201
                37.6958L23.8873 35.8827L27.303
                42.3484H1.6249Z"
          fill="white"
        />
      </svg>
    </div>
    <nav>
      <ul>
        <li class="header__link">
          <router-link to="/" @click="hideDetails">home</router-link>
        </li>
        <li class="header__link">
          <router-link to="/about" @click="hideDetails">about</router-link>
        </li>
        <li class="header__link">
          <router-link to="/contact" @click="hideDetails">contact</router-link>
        </li>
        <li class="header__link">
          <router-link to="/faq" @click="hideDetails">faq</router-link>
        </li>
      </ul>
    </nav>
    <div class="header__menu">
      <v-menu></v-menu>
    </div>
  </div>
</template>

<script>
import VMenu from './VMenu.vue';

export default {
  computed: {
    darkMode() {
      return this.$store.getters.detailsShown || this.$store.getters.pageShown;
    },
  },
  components: {
    VMenu,
  },
  methods: {
    hideDetails() {
      if (this.$store.getters.detailsShown) this.$store.dispatch('toggleLocationDetails');
    },
  },
};
</script>

<style lang="scss">
.header {
  display: flex;
  align-items: center;
  gap: 5rem;

  ul {
    list-style: none;
    display: flex;
    gap: 1.5rem;
  }

  &__link {
    padding: 0.25rem 0;
    overflow-x: hidden;

    a {
      --color: #adadad;
      text-decoration: none;
      color: var(--color);
      font: 300 1.6rem 'Nunito', sans-serif;
      text-transform: uppercase;
      transition: all 0.5s;
      position: relative;

      &::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 2px;
        left: -100%;
        top: 100%;
        background: var(--color);
        transition: all 0.3s;
        border-radius: 5rem;
      }

      &:hover {
        &::after {
          transform: translateX(100%);
        }
      }
    }

    .router-link-active {
      --color: #fff;
      color: var(--color);
      font-weight: 400;
    }
  }

  &__menu {
    flex: 1;
    display: flex;
    justify-content: flex-end;
  }

  &--dark {
    transform: translateY(1.5rem);
    opacity: 0;
    animation: fadeIn 1s 1s forwards;
    svg path {
      fill: var(--color-dark);
    }

    a {
      color: rgb(105, 105, 105);
    }

    .router-link-active {
      --color: var(--color-dark);
      color: var(--color);
    }

    .header__menu {
      display: none;
    }
    justify-content: space-between;
  }
}
</style>
